# 5장 카프카 사례

## 5.1 이 장의 내용

5장에선는 카프카 적용 사례를 소개한다. 카프카의 특징을 복습하면서 예로 든 사례에 카프카가 적합한 이유를 설명한다. 공개된 사례로 카프카가 실제 어떻게 이용되는지를 알아보자.

## 5.2 카프카 적용 사례

1장에서 소개한 대로 카프카는 미국 링크드인이 자사의 웹사이트를 방문하는 사용자의 호라동을 추적하기 위한 목적으로 개발했다. 당시 다른 제품에서는 할 수 없었던 것을 카프카로는 실현할 수 있었고, 카프카에 더 많은 기능이 추가되면서 카프카 적용 사례도 퍼져나가게 되었다. 먼저 카프카 사례부터 소개한다.

### 5.2.1 카프카의 대표적 기능

카프카의 대표적인 기능으로 떠올릴 수 있는 것은 메시지 큐 제품/로그 수집 제품/ETL 도구 등 예전부터 존재했던 몇몇 제품의 대체라고 할 수 있다. 대부분 '이전 제품에서는 더이상 취급하지 못할 정도로 대량의 데이터를 처리해야 할 때' 카프카를 검토했다고 생각하면 될 것이다.

여기서는 구체적으로 알 수 있도록 실제 사용 현장에서 카프카가 어떤 상황에서 사용되는지 살펴본다. 1장에서 언급한 바와 같이 카프카는 단순하면서도 유연한 아키텍처라서 다양하게 사용된다. 우선 카프카의 대표적 기능 5가지부터 알아보자.

- 데이터 허브<br>
  여러 시스템 사이에서 데이터를 상호 교환한다.

- 로그 수집<br>
  BI 도구를 이용한 리포팅과 인공지능 분석을 위해 여러 서버에서 생성된 로그를 수집하고 축적할 곳에 연결한다.

- 웹 활동 분석<br>
  실시간 대시보드와 이상 탐지/부정 검출 등 웹에서의 사용자 활동을 실시간으로 파악한다.

- 사물인터넷<br>
  센서 등 다양한 디바이스에서 보낸 데이터를 수신해서 처리한 후 디바이스에 송신한다.

- 이벤트 소싱<br>
  데이터에 대한 일련의 이벤트를 순차적으로 기록하고 CQRS 방식으로 대량의 이벤트를 유연하게 처리한다.

물론 여깃서 열거한 모든 기능과 특징을 전부 사용하는 경우는 드물다. 특정 기능이 어떤 사례에서는 중요하더라도 그것이 반드시 다른 사례에서도 중요시 된다고는 말할 수 없다. 카프카는 유연한 구조로 되어 있어서 각 사례마다 다른 요구 사항을 토대로 기능을 취사 선택하거나 또는 요구 사항에 맞게 설정해서 사용하는 경우가 많다.
